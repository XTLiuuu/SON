extends layoutBS

block head
  script(src="/js/friend.js")
  
block content
  br
  br
  br
  style.
    html,body,h1,h2,h3,h4,h5 {font-family: "RobotoDraft", "Roboto", sans-serif}
    .w3-bar-block .w3-bar-item {padding: 16px}
  body
    // Side Navigation
    nav#mySidebar.w3-sidebar.w3-bar-block.w3-collapse.w3-white.w3-animate-left.w3-card(style="z-index:3;width:320px;")
      a.w3-bar-item.w3-button(href="/friend")
        i.fa.fa-reddit-alien.w3-margin-right
        | MY FRIENDS
      a.w3-bar-item.w3-button(href="/searchPage")
        i.fa.fa-hourglass-end.w3-margin-right
        | Add new friends
      a.w3-bar-item.w3-button.w3-teal(onclick="myFunc('Demo1')" href="javascript:void(0)")
        i.fa.fa-inbox.w3-margin-right
        | All friends
        i.fa.fa-caret-down.w3-margin-left
      #Demo1.w3-hide.w3-animate-left
        .w3-container
          each p in profiles
            // now onclick is passed into as a string, how to give it the value
            a.w3-bar-item.w3-button.w3-border-bottom.test.w3-hover-light-grey(friend_id= p._id href="javascript:void(0)" onclick="openMail(event);w3_close();")
              .w3-container
                img.w3-round.w3-margin-right(src="../images/" +p.image+ ".png" style="width:20%;")
                span.w3-text-dark-grey #{p.name}
    // Overlay effect when opening the side navigation on small screens
    #myOverlay.w3-overlay.w3-hide-large.w3-animate-opacity(onclick="w3_close()" style="cursor:pointer" title="Close Sidemenu")
    // Page content
    .w3-main(style="margin-left:320px;")
      div#check-result.alert.alert-info(role="alert" style="display:none")
        | I'm not stupid.
      br
      .row
        .col-3
        .col-8
          button#021.w3-button.w3-wide.w3-block.w3-teal(onclick="document.getElementById('id0211').style.display='block'" style="width:60%;") CHECK AVAILABLE FRIENDS
        .col-1
      #id0211.w3-modal
        .w3-modal-content.w3-card-4.w3-animate-zoom(style="max-width: 600px")
          .w3-center
            form(method="post" action="guess_free")
              span.w3-button.w3-xlarge.w3-hover-red.w3-display-topright(onclick="document.getElementById('id0211').style.display='none'") X
              br
              label GUESS WHO ARE FREE
              .w3-container
                .margin
                  .w3-section
                    b Check Time
                    input(type="hidden" name="currUser" id="currUser" value=userEmail)
                    input(type="hidden" name="currUserID" id="currUserID" value=userID)
                    .row
                      .col-6
                        input.w3-input.w3-border(type="date" name="checkDate" id="checkDate")
                      .col-6
                        input.w3-input.w3-border.w3-margin-buttom(type="text" placeholder="e.g. 10:20" name="checkTime" id="checkTime")
                    br
                    input.w3-button.w3-block.w3-teal.w3-section.w3-padding.guess-free(type="button" value="Start Checking")
                    br
      each p in profiles
        form(method="post" action="check_avail")
          .w3-container.person(id= p._id style="display:none")
            br
            img.w3-round.w3-animate-top(src="../images/" +p.image+ ".png" style="width:20%;")
            .row
              .col-7
              .col-2
                a.w3-button.w3-teal(role="button" name = "send_event" href="/calendar/sendCalendar/"+p._id value = "send_event") Send Event
              .col-             
                .w3-container
                  button.w3-button.w3-teal(friend_id= p._id onclick="openModal(event)") Check Availability
                  .w3-modal(id= p._id+"modal")
                    .w3-modal-content.w3-card-4.w3-animate-zoom(style="max-width: 600px")
                      .w3-center
                        span.w3-button.w3-xlarge.w3-hover-red.w3-display-topright(friend_id= p._id title="Close Modal" onclick="closeModal(event)") X
                        img.w3-circle.w3-margin-top(src="../images/" +p.image+ ".png" alt="Avatar" style="width:30%")
                        br
                        label #{p.name}
                        .w3-container
                          .margin
                            .w3-section
                              b Check Time
                              .row
                                input(type="hidden" name="friendEmail" id="friendEmail"+p._id value=p.email)
                                input(type="hidden" name="friendName" id="friendName"+p._id value=p.name)
                                .col-6
                                  input.w3-input.w3-border(type="date" name="checkDate" id="checkDate"+p._id)
                                .col-6
                                  input.w3-input.w3-border.w3-margin-buttom(type="text" placeholder="e.g. 10:20" name="checkTime" id="checkTime"+p._id)
                              br
                              input.w3-button.w3-block.w3-teal.w3-section.w3-padding.check-avail-submit#check(type="button" value="Start Checking" name="check_avail" fid=p._id)
                              br
            hr
            .w3.text-dark-grey
              p
                i.fa.fa-pencil.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.name}
              p
                i.fa.fa-male.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.email}
              p
                i.fa.fa-home.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.home}
              p
                i.fa.fa-birthday-cake.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.dob}
              p
                i.fa.fa-phone.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.phone}
              p
                i.fa.fa-hand-peace-o.fa-fw.w3-margin-right.w3-text-theme
                |  #{p.about}
            br
            br
            input(type="hidden" name="userEmail" value=userEmail)
            input.w3-button.w3-red(type="submit" name = "delete_friend" value = "Delete Friend") 
